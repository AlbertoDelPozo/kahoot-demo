# --- Servidor ---
# En la nube (Railway/Render), el puerto se asigna dinámicamente en $PORT.
# En local, usará el 8080 por defecto.
server.port=${PORT:8080}

# --- Base de Datos (PostgreSQL) ---
# La sintaxis ${VARIABLE:valor_defecto} permite que funcione en ambos entornos.
# En local: Usa los valores escritos después de los dos puntos (:).
# En nube: Usa las variables de entorno que configures en el panel de control.
spring.datasource.url=${DATABASE_URL:jdbc:postgresql://localhost:5432/kahoot_db}
spring.datasource.username=${POSTGRES_USER:admin}
spring.datasource.password=${POSTGRES_PASSWORD:password_secreto_local}

# Configuración de Hibernate para PostgreSQL
spring.jpa.hibernate.ddl-auto=update
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect

# --- Redis (Gestión de Estado y WebSockets) ---
# En Railway, la variable REDIS_URL suele configurarse automáticamente, pero también soportamos host/port manual.
spring.data.redis.host=${REDIS_HOST:localhost}
spring.data.redis.port=${REDIS_PORT:6379}
# Si tu Redis en producción tiene contraseña, descomenta la siguiente línea:
# spring.data.redis.password=${REDIS_PASSWORD:}

# --- Logging ---
# Mantenemos logs informativos para ver cuándo arrancan los servicios
logging.level.root=INFO